(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6353],{44173:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/canvas/files",function(){return r(24387)}])},40457:function(e,t,r){"use strict";r.d(t,{X:function(){return d},Z:function(){return c}});var n=r(85893),i=r(80618),a=r(41664),s=r.n(a);r(67294);var o=r(90872),l=r(93123);let d=(0,r(24011).L)("header","w-full h-[51px] px-4 items-center border-b border-gray-85 bg-gray-95 z-[".concat(l.KN.CANVAS_DISABLED,"]"));function c(){return(0,n.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center text-white",children:[(0,n.jsx)(d,{className:"fixed top-0 left-0 right-0",children:(0,n.jsx)(o.Z,{isDeveloperMode:!1,showAllFilesButton:!0})}),(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,n.jsx)("div",{className:"text-gray-25",children:(0,n.jsx)(i.Z,{width:36,height:36})}),(0,n.jsx)("p",{className:"text-gray-50 font-pg-medium text-center max-w-sm px-10",children:"Canvas is only supported on desktop. Please use Board on mobile."}),(0,n.jsx)(s(),{href:"/create",className:"font-pg-semibold text-purple-primary1",children:"Go to Board"})]})]})}},90872:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(85893),i=r(67294),a=r(66545),s=r(41664),o=r.n(s);function l(e){let{isHovered:t}=e;return(0,n.jsxs)("svg",{width:"20",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"",children:[(0,n.jsx)("path",{d:"M1.77806 2.86262L9.77806 1.52929C10.6009 1.39214 11.35 2.0267 11.35 2.86092V15.2344C11.35 16.0465 10.6383 16.6747 9.83255 16.574L1.83255 15.574C1.15697 15.4896 0.65 14.9153 0.65 14.2344V4.19425C0.65 3.53432 1.12711 2.97111 1.77806 2.86262Z",stroke:"currentColor",strokeWidth:"1.3",className:"".concat(t&&"-translate-x-px"," transition-all")}),(0,n.jsx)("path",{stroke:"currentColor",d:"M".concat(t?"10":"11"," 2.46667L12.8463 2.17947C13.4526 2.08516 14 2.55402 14 3.16758V14.8195C14 15.4375 13.4451 15.9075 12.8356 15.8059L").concat(t?"10":"11"," 15.5"),strokeWidth:"1.1",className:"transition-all ".concat(t&&"scale-x-[1.02]")}),(0,n.jsx)("path",{d:"M".concat(t?"13":"14.2031"," 3.5L14.9606 3.31063C15.5917 3.15285 16.2031 3.63021 16.2031 4.28078V13.7192C16.2031 14.3698 15.5917 14.8472 14.9606 14.6894L").concat(t?"13":"14.2031"," 14.5"),stroke:"currentColor",strokeWidth:"0.9",className:"".concat(t&&"scale-x-110"," transition-all transition-all")})]})}var d=r(94670),c=r(11898);function u(e){let{borderRight:t}=e,r=(0,c.m)(),[a,s]=i.useState(!1);return(0,n.jsx)(d.u,{className:"pai-canvas-tooltip",placement:"bottom",label:"Go to Files",isDisabled:r,children:(0,n.jsx)("div",{className:"flex ",children:(0,n.jsx)(o(),{href:"/canvas/files",id:"all-files-button",className:"flex items-center px-4 ".concat(t?"border-r border-gray-85":""," text-gray-50 hover:bg-gray-90"),onMouseEnter:()=>{s(!0)},onMouseLeave:()=>{s(!1)},children:(0,n.jsx)(l,{isHovered:a})})})})}var p=r(81810),x=r(5152),h=r.n(x),f=r(22795);let m=h()(()=>Promise.all([r.e(57),r.e(2015),r.e(296),r.e(385),r.e(9260),r.e(2619),r.e(4250),r.e(4176),r.e(6634),r.e(5027)]).then(r.bind(r,5027)).catch(e=>(console.error("There was an error loading the edit canvas title component",e),f.Z)),{loadableGenerated:{webpack:()=>[5027]},ssr:!1});function g(e){var t;let r=(0,p.op)(),s=(0,p.R5)();return(0,n.jsxs)("div",{className:"flex divide-x divide-gray-85 h-full",children:[(0,n.jsx)("div",{className:"flex relative pr-2 flex-none",children:(0,n.jsx)(a.ZP,{...e})}),(0,n.jsxs)(i.Fragment,{children:[e.showAllFilesButton&&(0,n.jsx)(u,{borderRight:!s}),s&&(0,n.jsx)(m,{})]},null===(t=r.data)||void 0===t?void 0:t.id)]})}},94202:function(e,t,r){"use strict";r.d(t,{fP:function(){return u},p1:function(){return p},zz:function(){return c}});var n=r(89433),i=r(99945),a=r(11955),s=r(85604),o=r(11163),l=r.n(o),d=r(81810);function c(e){s.mv.info({header:"Importing project file...",timeout:!1});let t=new FileReader;t.onload=t=>{var r;let o=null===(r=t.target)||void 0===r?void 0:r.result;if("string"!=typeof o)return;let c=async t=>{try{var r,n;let a=await fetch("/api/canvas/new",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({canvasFile:t,fileName:null!==(n=(0,d.rV)(e.name.split(".")[0]))&&void 0!==n?n:"Untitled"},i.P)}),o=await a.json();(null===(r=o.canvas)||void 0===r?void 0:r.id)?(l().push("/canvas/".concat(o.canvas.id)),s.JW.setState({toasts:[]})):s.mv.error("Couldn't import project file")}catch(e){s.mv.error("Couldn't import project file")}};try{let e=JSON.parse(o,i.o);if(3===e.paiCanvasExportFormatVersion){c(e);return}if(2===e.paiCanvasExportFormatVersion){let t={paiCanvasExportFormatVersion:3,"pai-canvas-state":JSON.parse(e[n.tI],i.o).page,"pai-canvas-image-assets":JSON.parse(e[n.O6],i.o),projectName:"Untitled"};c(t);return}if(!e.paiCanvasExportFormatVersion){let t=(0,a.k)(e)||{},r={paiCanvasExportFormatVersion:3,"pai-canvas-state":e.page,"pai-canvas-image-assets":t,projectName:"Untitled"};c(r);return}}catch(e){console.error("Error importing canvas file",e),s.mv.error("Couldn't import project file")}},t.readAsText(e)}function u(){let e=document.createElement("input");e.type="file",e.accept=n.YF.join(", "),e.style.display="none",e.onchange=e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&c(r)},document.body.appendChild(e),e.click()}function p(e,t){let r=(0,d.xf)(t),n=document.createElement("a"),i=new Blob([JSON.stringify(e)],{type:"text/plain"});n.href=URL.createObjectURL(i),n.download=r,document.body.appendChild(n),n.click()}},80618:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(85893);function i(e){let{width:t=20,height:r=20,...i}=e;return(0,n.jsxs)("svg",{className:"standalone",width:t,height:r,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,children:[(0,n.jsx)("path",{d:"M16.0416 10.0026C16.0416 13.3394 13.3367 16.0443 9.99988 16.0443C6.6632 16.0443 3.95825 13.3394 3.95825 10.0026C3.95825 6.66589 6.6632 3.96094 9.99988 3.96094C13.3367 3.96094 16.0416 6.66589 16.0416 10.0026Z",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M5.83325 5.83594L14.1666 14.1693",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]})}r(67294)},24387:function(e,t,r){"use strict";r.r(t),r.d(t,{CanvasFileList:function(){return q},default:function(){return Y}});var n=r(85893),i=r(40457),a=r(90872),s=r(9008),o=r.n(s),l=r(41664),d=r.n(l),c=r(85604),u=r(92323),p=r(28456),x=r(41301),h=r.n(x);function f(e){let{deleteCanvas:t}=e,{closeModal:r}=(0,u.d)();return(0,n.jsxs)(p.Z,{onSubmit:e=>{e.preventDefault(),r(),t()},children:[(0,n.jsx)(p.Z.Header,{children:(0,n.jsx)(p.Z.HeaderTitle,{children:"Are you sure you want to delete the file?"})}),(0,n.jsx)(p.Z.Body,{children:"Deleting a file will permanently remove it and you will not be able to recover it."}),(0,n.jsxs)(p.Z.Footer,{children:[(0,n.jsx)(p.Z.Cancel,{onClick:r}),(0,n.jsx)(p.Z.Submit,{className:h().DeleteButton,children:"Delete"})]})]})}var m=r(81810),g=r(18957),v=r(35758),j=r(67294),y=r(49296),b=r(40097),w=r(94670),C=r(62363),k=r(54021),N=r(75903),L=r(627);function S(e){let{file:t,onDelete:r}=e,i=(0,v.X)(),a=(0,j.useMemo)(()=>(null==t?void 0:t.canvas.lastEdited)?(0,g.lY)(new Date(t.canvas.lastEdited)):null,[null==t?void 0:t.canvas.lastEdited]),[s,o]=(0,j.useState)(!1);if(!t)return(0,n.jsxs)("div",{className:"animate-pulse bg-gray-99 border text-gray-25 text-sm border-gray-85 rounded-lg h-full flex flex-col items-center justify-center overflow-hidden",children:[(0,n.jsx)("div",{className:"w-full h-[180px]"}),(0,n.jsx)("div",{className:"bg-gray-95 p-4 w-full text-gray-25 text-sm h-[64px]"})]});let l=(0,m.cp)(t.canvas.name,t.canvas.id),c=i===l;return(0,n.jsxs)(d(),{href:l,className:"bg-gray-99 border text-gray-25 text-sm border-gray-85 hover:border-gray-75 rounded-lg h-full flex flex-col items-center justify-center group divide-y divide-gray-85 hover:divide-gray-75","data-cy":"canvas-file-preview",children:[(0,n.jsx)("img",{alt:"thumbnail",onError:e=>{o(!0),e.currentTarget.src="https://cdn.playground.com/logo/default_canvas_thumbnail.jpg"},src:"".concat(s?"https://cdn.playground.com/logo/default_canvas_thumbnail.jpg":"/api/canvas/thumbnail/".concat(null==t?void 0:t.canvas.id,".png")),style:{textIndent:"100%",overflow:"hidden",whiteSpace:"nowrap"},className:"h-[180px] rounded-t-[7px]"}),(0,n.jsxs)("div",{className:"bg-gray-95 group-hover:bg-gray-90 p-4 py-[11.5px] w-full text-gray-25 text-[13px] flex justify-between items-center rounded-b-[7px]",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"font-pg-medium text-[13px] line-clamp-1",children:t.canvas.name}),(0,n.jsxs)("p",{className:"font-pg-medium text-gray-50",children:["Edited ",a]})]}),c?(0,n.jsx)(L.s8,{}):(0,n.jsx)(F,{onDelete:r,canvas:t})]})]})}let E=e=>{let{children:t,className:r,onClick:i}=e;return(0,n.jsx)("div",{className:"p-1.5 px-2.5 flex gap-1.5 items-center ".concat(null!=r?r:""),role:"button",onClick:e=>{e.preventDefault(),i()},children:t})};function F(e){let{onDelete:t,canvas:r}=e,i=function(e){let{deleteCanvas:t}=e,{setModalContent:r}=(0,u.d)();return t?()=>{r((0,n.jsx)(f,{deleteCanvas:t}),{showCloseButton:!1,transitionModal:!0})}:()=>{}}({deleteCanvas:t}),[a,s]=(0,j.useState)(!1),o=(0,j.useRef)(null);(0,y.p)(o,()=>{s(!1)});let l=(0,k.J3)(r.canvas);return(0,n.jsxs)("div",{className:"relative flex",ref:o,children:[!l&&(0,n.jsx)(w.u,{label:"Shared file",className:"pai-canvas-tooltip",children:(0,n.jsx)("span",{className:"group-hover:text-gray-25 text-gray-50",children:(0,n.jsx)(b._,{})})}),(0,n.jsx)("div",{role:"button",className:"rounded ".concat(a?"bg-gray-85":""," hover:bg-gray-85 flex items-center justify-center group-hover:text-gray-25 text-gray-50"),onClick:e=>{e.stopPropagation(),e.preventDefault(),s(!a)},children:O}),a&&(0,n.jsxs)("div",{className:"absolute left-[calc(100%+6px)] w-40 -top-1 py-0.5 border border-gray-85 bg-gray-90 rounded-md text-[13px] text-gray-50 font-pg-medium",children:[l&&(0,n.jsxs)(E,{className:"hover:text-dark-pink",onClick:i,children:[(0,n.jsx)(C.Rj,{width:14,height:14}),"Delete"]}),(0,n.jsx)(z,{id:r.canvas.id})]})]})}function z(e){let{id:t}=e,r=(0,N.hz)(t);return r&&(0,n.jsxs)(E,{className:"hover:text-gray-25",onClick:r,children:[(0,n.jsx)(C.mB,{size:14}),"Share"]})}let O=(0,n.jsxs)("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M13.5 12C13.5 12.5523 13.0523 13 12.5 13C11.9477 13 11.5 12.5523 11.5 12C11.5 11.4477 11.9477 11 12.5 11C13.0523 11 13.5 11.4477 13.5 12Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M13.5 8C13.5 8.55228 13.0523 9 12.5 9C11.9477 9 11.5 8.55228 11.5 8C11.5 7.44772 11.9477 7 12.5 7C13.0523 7 13.5 7.44772 13.5 8Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M13.5 16C13.5 16.5523 13.0523 17 12.5 17C11.9477 17 11.5 16.5523 11.5 16C11.5 15.4477 11.9477 15 12.5 15C13.0523 15 13.5 15.4477 13.5 16Z",fill:"currentColor"})]});function Z(e){let{title:t,description:r}=e;return(0,n.jsxs)("div",{className:"space-y-0 font-medium",children:[(0,n.jsx)("h3",{className:"text-sm text-gray-25 text-left",children:t}),(0,n.jsx)("p",{className:"text-sm text-gray-50 text-left",children:r})]})}var M=r(94202),D=r(11163),R=r(85510),B=r(33299),T=r(8891),W=r.n(T),_=r(32478),A=r(92890);function P(){let[e,t]=(0,A.Iw)("advanced-tutorial-hidden",!1);return e?null:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)(d(),{href:"/api/canvas/new?advanced_tutorial=1",onClick:()=>{W().track("Advanced tutorial CTA Clicked",{source:"All files page"})},target:"_blank",className:"bg-gray-99 border text-gray-25 text-sm border-gray-85 hover:border-gray-75 rounded-lg h-full flex flex-col items-center justify-center group divide-y divide-gray-85 hover:divide-gray-75 relative",children:[(0,n.jsxs)("div",{className:"h-[180px] w-full pl-8 pt-10",children:[(0,n.jsx)("h4",{className:"font-pg-semibold text-gray-10 text-sm",children:"Learn Advanced Tools"}),(0,n.jsxs)("ol",{className:"list-disc text-gray-50 text-sm font-pg-medium pl-2 mt-1",children:[(0,n.jsx)("li",{children:"Background removal"}),(0,n.jsx)("li",{children:"Generating multiple images"}),(0,n.jsx)("li",{children:"Object eraser"}),(0,n.jsx)("li",{children:"Image variations"})]})]}),(0,n.jsx)("div",{className:"h-[64px] p-4 py-[11.5px] w-full text-gray-25 text-[13px] flex justify-between items-center rounded-b-[7px]",children:(0,n.jsxs)("span",{className:"marketing-button green w-full group-hover:bg-green-35",children:["Start Tutorial"," ",(0,n.jsx)("p",{className:"transition-all opacity-0 -translate-x-1 !w-0 group-hover:translate-x-0 group-hover:opacity-100 inline-block",children:"→"})]})})]}),(0,n.jsx)("button",{type:"button",className:"bg-white/10 text-gray-25 absolute top-3 right-3 flex items-center justify-center font-pg-medium w-5 h-5 rounded-full text-sm hover:text-white",onClick:()=>{t(!0)},children:(0,n.jsx)(_.Z,{width:16})})]})}var V=r(61896),I=r(94688),H=r(93123);function U(){return(0,n.jsxs)("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M8.20852 25.667H18.124C18.8767 25.667 19.469 25.0426 19.319 24.305C18.905 22.2686 17.5526 18.667 13.1663 18.667C8.78003 18.667 7.42768 22.2686 7.0136 24.305C6.86362 25.0426 7.45586 25.667 8.20852 25.667Z",stroke:"currentColor",strokeWidth:"2.03125",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M21.5 18.667C24.2717 18.667 25.4069 21.5309 25.8652 23.595C26.1127 24.7097 25.2111 25.667 24.0692 25.667H22.8333",stroke:"currentColor",strokeWidth:"2.03125",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M13.1667 13.6663C15.1917 13.6663 16.8333 12.0247 16.8333 9.99967C16.8333 7.97463 15.1917 6.33301 13.1667 6.33301C11.1416 6.33301 9.5 7.97463 9.5 9.99967C9.5 12.0247 11.1416 13.6663 13.1667 13.6663Z",stroke:"currentColor",strokeWidth:"2.03125",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M20.166 13.6663C22.1911 13.6663 23.4993 12.0247 23.4993 9.99967C23.4993 7.97463 22.1911 6.33301 20.166 6.33301",stroke:"currentColor",strokeWidth:"2.03125",strokeLinecap:"round",strokeLinejoin:"round"})]})}var J=r(12238);function X(){return(0,n.jsx)("aside",{className:"w-56 relative bg-gray-95 border-r border-gray-85 text-white max-md:hidden min-h-screen",children:(0,n.jsxs)("div",{className:"fixed top-14 w-[inherit]",children:[(0,n.jsx)("h3",{className:"text-gray-60 font-bold uppercase text-xs pt-3 pb-2 px-6 select-none",children:"Teams"}),(0,n.jsx)("ul",{className:"px-2 text-gray-25 w-full text-sm font-semibold",children:(0,n.jsx)("li",{children:(0,n.jsx)(G,{})})})]})})}function G(){let[e,t]=(0,j.useState)(!1);return(0,n.jsxs)(I.fC,{open:e,onOpenChange:e=>{e&&W().track("Add team intent",{step:"Click add team button"}),t(e)},modal:!1,children:[(0,n.jsx)(I.xz,{asChild:!0,children:(0,n.jsxs)("button",{type:"button",className:"px-4 flex items-center text-purple-primary gap-1 py-2.5 hover:bg-gray-85 w-full rounded-md data-[state=open]:bg-gray-85",children:[(0,n.jsx)(V.Z,{size:12})," Create new team"]})}),(0,n.jsx)(I.Uv,{children:(0,n.jsxs)(I.VY,{style:{zIndex:H.KN.TOASTS},side:"right",align:"start",sideOffset:16,className:"bg-gray-90 flex flex-col items-center gap-4 w-[260px] p-4 py-6 rounded-md",children:[(0,n.jsx)("span",{className:"text-purple-primary",children:(0,n.jsx)(U,{})}),(0,n.jsxs)("p",{className:"text-gray-50 text-sm w-full px-2 font-pg-medium",children:["Team plan supports:",(0,n.jsxs)("ol",{className:"list-disc text-gray-10 px-4 mt-1",children:[(0,n.jsx)("li",{children:"Shared workspaces"}),(0,n.jsx)("li",{children:"Unified billing"}),(0,n.jsx)("li",{children:"Single sign on"}),(0,n.jsx)("li",{children:"User management"}),(0,n.jsx)("li",{children:"Permissions"})]})]}),(0,n.jsx)("div",{className:"mt-2 w-full text-sm space-y-1",children:(0,n.jsxs)("button",{type:"button",className:"bg-purple-primary1 hover:bg-purple-primary text-white w-full rounded py-1.5 font-pg-medium flex justify-center items-center gap-1 h-8",onClick:()=>{var e,r;null===(e=(r=window).Intercom)||void 0===e||e.call(r,"showNewMessage"),W().track("Add team intent",{step:"Click chat with us"}),t(!1)},children:[(0,n.jsx)(J.Z,{strokeWidth:2,size:18}),"Chat to learn more"]})})]})})]})}function Y(){let e=(0,B.useSession)(),t=(0,D.useRouter)(),r=(0,j.useRef)(!1);if("loading"===e.status)return(0,n.jsx)(n.Fragment,{});if("unauthenticated"===e.status){r.current||(r.current=!0,t.push("/login?redirect=/canvas/files"));return}return(0,n.jsx)(K,{})}function K(){let{limit:e,showModal:t,isLoading:r}=(0,k.yc)(),[s,l]=(0,j.useState)(!1),d=n=>{var i;if((null==n?void 0:null===(i=n.name)||void 0===i?void 0:i.endsWith(".pg"))&&W().track("Imported canvas from drag and drop"),!r){if(e)return t();n?(0,M.zz)(n):(0,M.fP)()}};return(0,n.jsxs)("div",{className:"text-white h-full min-h-screen",onDragOver:e=>{let t=Array.from(e.dataTransfer.items).some(e=>"file"===e.kind);t&&e.preventDefault(),t&&l(!0)},onDragEnd:e=>{e.preventDefault(),l(!1)},onDragLeave:e=>{e.preventDefault(),l(!1)},onDrop:e=>{e.preventDefault(),l(!1),d(e.dataTransfer.files[0])},children:[s&&(0,n.jsx)("div",{className:"absolute top-16 bg-purple-primary text-white rounded-md p-2 font-pg-medium left-1/2 -translate-x-1/2",children:"Drop to import .pg file"}),(0,n.jsx)(o(),{children:(0,n.jsx)("title",{children:"Files - Playground"})}),(0,n.jsxs)(i.X,{className:"fixed flex justify-between !pr-0",children:[(0,n.jsx)(a.Z,{isDeveloperMode:!1,onImportCanvas:()=>d()}),(0,n.jsx)(R.ZP,{})]}),(0,n.jsxs)("section",{className:"flex",children:[(0,n.jsx)(X,{}),(0,n.jsx)("div",{className:"max-w-screen-xl px-10 pt-24 pb-10 mx-auto flex-grow",children:(0,n.jsx)(q,{onImportCanvas:d})})]}),(0,n.jsx)(c.F1,{})]})}function q(e){let{onImportCanvas:t}=e,{data:r,isLoading:i,error:a,mutate:s}=(0,k.iA)(),[o]=(0,A.Iw)("advanced-tutorial-hidden",!1),l=a?(0,n.jsxs)("div",{className:"rounded-lg border border-dark-pink p-2 px-3 bg-dark-pink/10 inline-block",children:[(0,n.jsx)("p",{className:"text-gray-10",children:"An error occurred loading your files."}),(0,n.jsxs)("details",{children:[(0,n.jsx)("summary",{children:"View Error"}),(0,n.jsx)("pre",{children:a.toString()})]})]}):null,u=(0,k.Vs)(),{limit:p}=(0,k.yc)(),x=(0,D.useRouter)(),h=(0,j.useRef)(!1);return(0,j.useEffect)(()=>{"true"!==x.query.showUpgrade||h.current||(h.current=!0,u(),x.replace(x.pathname,void 0,{shallow:!0}))},[x,u]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"grid grid-cols-canvas gap-7 justify-center select-none",children:[(0,n.jsxs)(d(),{href:"/api/canvas/new",className:"border border-gray-85 hover:border-gray-75 px-6 py-5 flex gap-4 rounded-lg items-center hover:bg-gray-90",onClick:e=>{(i||p)&&e.preventDefault(),p&&u()},children:[Q.add,(0,n.jsx)(Z,{title:"New Canvas File",description:"Powerful Image Editor"})]}),(0,n.jsxs)("button",{onClick:()=>t(),className:"border border-gray-85 hover:border-gray-75 px-6 py-5 flex gap-4 rounded-lg items-center hover:bg-gray-90",type:"button",children:[Q.import,(0,n.jsx)(Z,{title:"Import Canvas File",description:"Bring in an existing file"})]}),(0,n.jsx)("section",{className:"translate-y-3 mt-1 col-span-full",children:(0,n.jsx)("h1",{className:"text-lg font-medium",children:"All Canvas Files"})}),!i&&!o&&(0,n.jsx)(P,{}),r&&0!==r.length?r.map(e=>(0,n.jsx)(S,{file:e,onDelete:async()=>{s(r.filter(t=>t.canvas.id!==e.canvas.id),!1);let t=()=>c.mv.error("Failed deleting file");await fetch("/api/canvas/delete?id=".concat(e.canvas.id),{method:"DELETE"}).then(e=>{console.log(e),e.ok||t()}).catch(e=>{console.error(e),t()})}},e.canvas.id)):i?(0,n.jsx)(n.Fragment,{children:Array(12).fill(0).map((e,t)=>(0,n.jsx)(S,{},t))}):l||(0,n.jsx)("p",{className:"text-gray-50",children:"No files found. Create your first."})]})})}let Q={import:(0,n.jsxs)("svg",{width:"27",height:"26",viewBox:"0 0 27 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("rect",{x:"0.5",width:"26",height:"26",rx:"5",fill:"#6858F5"}),(0,n.jsx)("path",{d:"M10.5835 6.95703H9.12516C8.20469 6.95703 7.4585 7.70322 7.4585 8.6237V17.3737C7.4585 18.2942 8.20469 19.0404 9.12516 19.0404H17.8753C18.7958 19.0404 19.542 18.2942 19.542 17.3737V11.332",stroke:"white",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M15.6537 11.8078L13.711 13.8282M13.711 13.8282L11.9058 11.6841M13.711 13.8282L13.8347 10.0802C13.9258 7.32031 16.237 5.1568 18.9969 5.24789L19.2051 5.25476",stroke:"white",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]}),add:(0,n.jsxs)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("rect",{width:"26",height:"26",rx:"5",fill:"#6858F5"}),(0,n.jsx)("path",{d:"M13 7V19",stroke:"white",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M19 13H7",stroke:"white",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})]})}},41301:function(e){e.exports={DeleteButton:"DeleteCanvas_DeleteButton__6ok_T"}},61896:function(e,t,r){"use strict";var n=r(67294),i=r(45697),a=r.n(i);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var o=(0,n.forwardRef)(function(e,t){var r=e.color,i=e.size,a=void 0===i?24:i,o=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["color","size"]);return n.createElement("svg",s({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),n.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),n.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});o.propTypes={color:a().string,size:a().oneOfType([a().string,a().number])},o.displayName="Plus",t.Z=o},93463:function(e,t,r){"use strict";r.d(t,{Z:function(){return w}});var n=r(87462),i=r(63366),a=r(67294),s=a.useLayoutEffect,o=function(e){var t=a.useRef(e);return s(function(){t.current=e}),t},l=function(e,t){if("function"==typeof e){e(t);return}e.current=t},d=function(e,t){var r=(0,a.useRef)();return(0,a.useCallback)(function(n){e.current=n,r.current&&l(r.current,null),r.current=t,t&&l(t,n)},[t])},c={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},u=function(e){Object.keys(c).forEach(function(t){e.style.setProperty(t,c[t],"important")})},p=null,x=function(e,t){var r=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?r+t.borderSize:r-t.paddingSize},h=function(){},f=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],m=!!document.documentElement.currentStyle,g=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var r=f.reduce(function(e,r){return e[r]=t[r],e},{}),n=r.boxSizing;if(""===n)return null;m&&"border-box"===n&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var i=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),a=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:i,borderSize:a}};function v(e,t,r){var n=o(r);(0,a.useLayoutEffect)(function(){var r=function(e){return n.current(e)};return e.addEventListener(t,r),function(){return e.removeEventListener(t,r)}},[])}var j=function(e){v(window,"resize",e)},y=function(e){v(document.fonts,"loadingdone",e)},b=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],w=(0,a.forwardRef)(function(e,t){var r=e.cacheMeasurements,s=e.maxRows,o=e.minRows,l=e.onChange,c=void 0===l?h:l,f=e.onHeightChange,m=void 0===f?h:f,v=(0,i.Z)(e,b),w=void 0!==v.value,C=(0,a.useRef)(null),k=d(C,t),N=(0,a.useRef)(0),L=(0,a.useRef)(),S=function(){var e,t,n,i,a,l,d,c,h,f,v,j=C.current,y=r&&L.current?L.current:g(j);if(y){L.current=y;var b=(e=j.value||j.placeholder||"x",void 0===(t=o)&&(t=1),void 0===(n=s)&&(n=1/0),p||((p=document.createElement("textarea")).setAttribute("tabindex","-1"),p.setAttribute("aria-hidden","true"),u(p)),null===p.parentNode&&document.body.appendChild(p),i=y.paddingSize,a=y.borderSize,d=(l=y.sizingStyle).boxSizing,Object.keys(l).forEach(function(e){p.style[e]=l[e]}),u(p),p.value=e,c=x(p,y),p.value=e,c=x(p,y),p.value="x",f=(h=p.scrollHeight-i)*t,"border-box"===d&&(f=f+i+a),c=Math.max(f,c),v=h*n,"border-box"===d&&(v=v+i+a),[c=Math.min(v,c),h]),w=b[0],k=b[1];N.current!==w&&(N.current=w,j.style.setProperty("height",w+"px","important"),m(w,{rowHeight:k}))}};return(0,a.useLayoutEffect)(S),j(S),y(S),(0,a.createElement)("textarea",(0,n.Z)({},v,{onChange:function(e){w||S(),c(e)},ref:k}))})},63366:function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}r.d(t,{Z:function(){return n}})}},function(e){e.O(0,[385,4250,2888,9774,179],function(){return e(e.s=44173)}),_N_E=e.O()}]);