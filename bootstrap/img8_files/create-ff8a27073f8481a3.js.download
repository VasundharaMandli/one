(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2417],{76489:function(e,t){"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var n={},a=e.split(";"),o=(t||{}).decode||i,r=0;r<a.length;r++){var s=a[r],l=s.indexOf("=");if(!(l<0)){var c=s.substring(0,l).trim();if(void 0==n[c]){var d=s.substring(l+1,s.length).trim();'"'===d[0]&&(d=d.slice(1,-1)),n[c]=function(e,t){try{return t(e)}catch(t){return e}}(d,o)}}}return n},t.serialize=function(e,t,i){var o=i||{},r=o.encode||n;if("function"!=typeof r)throw TypeError("option encode is invalid");if(!a.test(e))throw TypeError("argument name is invalid");var s=r(t);if(s&&!a.test(s))throw TypeError("argument val is invalid");var l=e+"="+s;if(null!=o.maxAge){var c=o.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(c)}if(o.domain){if(!a.test(o.domain))throw TypeError("option domain is invalid");l+="; Domain="+o.domain}if(o.path){if(!a.test(o.path))throw TypeError("option path is invalid");l+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(l+="; HttpOnly"),o.secure&&(l+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var i=decodeURIComponent,n=encodeURIComponent,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},47041:function(e,t,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var a in t=arguments[i])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]]);return i};Object.defineProperty(t,"__esModule",{value:!0}),t.hasCookie=t.deleteCookie=t.setCookie=t.getCookie=t.getCookies=void 0;var o=i(76489),r=function(){return"undefined"!=typeof window},s=function(e){return!!e&&"set"in e&&"function"==typeof e.getAll&&"function"==typeof e.set},l=function(e){return!!(null==e?void 0:e.req)&&"cookies"in e.req&&s(null==e?void 0:e.req.cookies)||!!(null==e?void 0:e.res)&&"cookies"in e.res&&s(null==e?void 0:e.res.cookies)},c=function(e){var t={};return e.getAll().forEach(function(e){var i=e.name,n=e.value;t[i]=n}),t},d=function(e){void 0===e&&(e="");try{var t=JSON.stringify(e);return/^[\{\[]/.test(t)?t:e}catch(t){return e}};t.getCookies=function(e){if(l(e)&&(null==e?void 0:e.req))return c(e.req.cookies);if(e&&(t=e.req),!r())return t&&t.cookies?t.cookies:t&&t.headers.cookie?(0,o.parse)(t.headers.cookie):{};for(var t,i={},n=document.cookie?document.cookie.split("; "):[],a=0,s=n.length;a<s;a++){var d=n[a].split("="),u=d.slice(1).join("=");i[d[0]]=u}return i},t.getCookie=function(e,i){var n=(0,t.getCookies)(i)[e];if(void 0!==n)return n?n.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):n},t.setCookie=function(e,t,i){if(l(i)){var s,c,u,m=i.req,p=i.res,h=a(i,["req","res"]),g=n({name:e,value:t},h);m&&m.cookies.set(g),p&&p.cookies.set(g);return}if(i){var m=i.req,p=i.res,x=a(i,["req","res"]);c=m,u=p,s=x}var f=(0,o.serialize)(e,d(t),n({path:"/"},s));if(r())document.cookie=f;else if(u&&c){var v=u.getHeader("Set-Cookie");if(Array.isArray(v)||(v=v?[String(v)]:[]),u.setHeader("Set-Cookie",v.concat(f)),c&&c.cookies){var b=c.cookies;""===t?delete b[e]:b[e]=d(t)}if(c&&c.headers&&c.headers.cookie){var b=(0,o.parse)(c.headers.cookie);""===t?delete b[e]:b[e]=d(t),c.headers.cookie=Object.entries(b).reduce(function(e,t){return e.concat("".concat(t[0],"=").concat(t[1],";"))},"")}}},t.deleteCookie=function(e,i){return(0,t.setCookie)(e,"",n(n({},i),{maxAge:-1}))},t.hasCookie=function(e,i){return!!e&&(0,t.getCookies)(i).hasOwnProperty(e)}},7532:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create",function(){return i(38671)}])},9923:function(e,t,i){"use strict";i.d(t,{I:function(){return h},O:function(){return m}});var n=i(85893),a=i(67294),o=i(92323),r=i(32478),s=i(94625),l=i.n(s),c=i(47041);let d=!1,u="checked_ios";function m(){let{setModalContent:e}=(0,o.d)();(0,a.useEffect)(()=>{let t=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,i=(0,c.getCookie)(u);if(!d&&!i&&t){d=!0;let t=new Date;t.setDate(t.getDate()+3),(0,c.setCookie)(u,"true",{expires:t}),e((0,n.jsx)(h,{}),{className:"!rounded-none h-screen !top-0 relative !px-0 !left-0 !m-0 !bg-white !right-0 w-screen"})}},[e])}function p(e){let{noClose:t}=e,{closeModal:i}=(0,o.d)();return(0,n.jsxs)("nav",{className:"flex justify-between items-center px-4 fixed top-0 right-0 left-0 h-32 pb-12 bg-gradient-to-b from-white to-transparent",children:[(0,n.jsx)("div",{className:l().Nav,children:Array(6).fill(null).map((e,t)=>(0,n.jsx)("div",{},t))}),(0,n.jsx)("div",{className:"z-10 h-9 pl-3 text-black",children:(0,n.jsx)("img",{src:"https://cdn.playground.com/logo/Logo_monochrome.png",className:"h-9",alt:"Logo"})}),!t&&(0,n.jsx)("button",{type:"button",className:"z-10 text-black",onClick:i,children:(0,n.jsx)(r.Z,{width:28,height:28})})]})}function h(e){let{noClose:t}=e;return(0,n.jsxs)("div",{className:"fixed inset-0 flex flex-col justify-end bg-white px-8 pb-12 h-[100dvh]",children:[(0,n.jsx)(p,{noClose:t}),(0,n.jsx)("img",{className:"object-contain min-h-screen",alt:"app image",src:"https://cdn.playground.com/home/mobile.png"}),(0,n.jsx)("h1",{className:l().Title,children:"Create graphics like a pro without being one"}),(0,n.jsxs)("a",{className:"bg-black rounded-2xl px-4 py-1.5 justify-center gap-4 items-center flex font-semibold text-3xl",href:"https://apps.apple.com/us/app/playground-ai-art-generator/id6478421458",children:[" ",(0,n.jsx)("span",{className:"text-xl",children:"Download app"})]})]})}},93817:function(e,t,i){"use strict";i.d(t,{Z:function(){return o}});var n=i(85893),a=i(67294);function o(e){let{startTime:t,includeDecimal:i}=e,[o,r]=(0,a.useState)(Date.now()-t);(0,a.useEffect)(()=>{let e=setInterval(()=>{r(Date.now()-t)},100);return()=>clearInterval(e)},[t]);let s=Math.round(o/100)/10;return i?(0,n.jsxs)(n.Fragment,{children:[s.toFixed(1),"s"]}):(0,n.jsxs)(n.Fragment,{children:[s,"s"]})}},84672:function(e,t,i){"use strict";i.d(t,{m:function(){return o}});var n=i(85893),a=i(63518);let o=[{title:"Get vibrant colors in Playground v2.5",Body:()=>(0,n.jsx)("p",{children:"Try our newest model to make better images with richer colors."}),image:"https://cdn.playground.com/tips/PG%20v2.5%20graphic.png",id:"playground-v2-5-feb-2024"},{id:"getting-started-vid-feb23",title:"Tutorial: Create your first amazing image",Body:()=>(0,n.jsxs)("p",{children:["Take a walk-through of the product to learn how to get started creating images.",(0,n.jsx)("a",{href:"https://youtu.be/wITLbrDGy-0",target:"_blank",rel:"noreferrer",children:"Watch Now"})]}),link:"https://youtu.be/wITLbrDGy-0",image:"https://cdn.playground.com/tips/getting-started.png",showForDaysAfterSignup:30},{id:"feb-5-2024-presets",videoSrcSet:{high:"https://cdn.playground.com/tips/Presets.mp4",low:"https://cdn.playground.com/tips/Presets.mp4"},title:"Introducing  Presets",Body:()=>(0,n.jsxs)("p",{className:"px-20",children:["Save your settings and prompt to reuse later.",(0,n.jsx)("button",{type:"button",onClick:()=>{(0,a.K)("pai:open-presets-select")},children:"Try Now"})]})},{id:"feb29-2024-gen-upscaler",videoSrcSet:{high:"https://cdn.playground.com/tips/Creative%20upscaler-%204%20(1).mp4",low:"https://cdn.playground.com/pai-marketing/tips/Creative%20upscaler-%204%20(1).mp4"},title:"Enhanced details with Creative Upscaler",Body:()=>(0,n.jsx)("p",{children:"Upscale and enhance images with high-res and imaginative details in a click."})},{id:"apr15-2024-photorealism",videoSrcSet:{high:"https://cdn.playground.com/tips/Photorealism_Low.mp4",low:"https://cdn.playground.com/tips/Photorealism_Low.mp4"},title:"Incredible portraits with Photorealism",Body:()=>(0,n.jsxs)("p",{children:["Create stunning, lifelike images of people with the Photorealism filter.",(0,n.jsx)("button",{type:"button",onClick:()=>{(0,a.K)("pai:filters:open")},children:"Try Now"})]})}]},22986:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});var n=i(85893);function a(e){let{width:t,height:i}=e;return(0,n.jsxs)("svg",{fill:"none",height:null!=t?t:16,shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:null!=i?i:16,children:[(0,n.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,n.jsx)("path",{d:"M12 8v8"}),(0,n.jsx)("path",{d:"M8 12h8"})]})}},41671:function(e,t,i){"use strict";var n=i(85893);i(67294),t.Z=function(e){return(0,n.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,n.jsx)("path",{d:"M3.95801 14.125L6.2465 11.3194C6.89542 10.4939 8.13678 10.4669 8.82101 11.2634L10.833 13.6054M9.09551 11.5829C9.95984 10.4835 11.1641 8.9259 11.2425 8.82456C11.2453 8.82093 11.2479 8.81751 11.2508 8.81391C11.9009 7.99376 13.1383 7.96861 13.821 8.76333L16.0413 10.8984V10.9286V14.3737C16.0413 15.2942 15.2952 16.0404 14.3747 16.0404H5.62467C4.7042 16.0404 3.95801 15.2942 3.95801 14.3737V5.6237C3.95801 4.70322 4.7042 3.95703 5.62467 3.95703H9.09551",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M16.0417 4.375H13.125",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})]})}},27860:function(e,t,i){"use strict";i.d(t,{g:function(){return r}});var n=i(85893),a=i(67294),o=i(1233);let r=a.forwardRef((e,t)=>{let{className:i,...a}=e;return(0,n.jsx)("textarea",{className:(0,o.cn)("flex min-h-[60px] w-full rounded-pg-base border border-pg-600 bg-pg-700 px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50","focus:caret-primary text-md xs:text-base text-pg-100 placeholder:text-pg-300","focus-visible:brightness-125",i),ref:t,...a})});r.displayName="Textarea"},45497:function(e,t,i){"use strict";i.d(t,{Z:function(){return p}});var n=i(85893),a=i(38372),o=i(67294);function r(){return(0,n.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M0.958374 2.6276C0.958374 1.70713 1.70457 0.960938 2.62504 0.960938H11.375C12.2955 0.960938 13.0417 1.70713 13.0417 2.6276V9.71094C13.0417 10.6314 12.2955 11.3776 11.375 11.3776H9.18754L7.00004 13.0443L4.81254 11.3776H2.62504C1.70457 11.3776 0.958374 10.6314 0.958374 9.71094V2.6276Z",stroke:"#C0C0C3",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})})}function s(){return(0,n.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_1238_119815)",children:[(0,n.jsx)("path",{d:"M14.6668 7.38527V7.99861C14.666 9.43622 14.2005 10.8351 13.3397 11.9865C12.4789 13.1379 11.269 13.9803 9.8904 14.3879C8.51178 14.7955 7.03834 14.7465 5.68981 14.2483C4.34128 13.7501 3.18993 12.8293 2.40747 11.6233C1.62501 10.4173 1.25336 8.99065 1.34795 7.55615C1.44254 6.12165 1.9983 4.75616 2.93235 3.66332C3.8664 2.57049 5.12869 1.80886 6.53096 1.49204C7.93323 1.17521 9.40034 1.32017 10.7135 1.90527",stroke:"#4EEBC6",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M14.6667 2.66406L8 9.3374L6 7.3374",stroke:"#4EEBC6",strokeWidth:"1.33333",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_1238_119815",children:(0,n.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]})}var l=i(92890),c=i(69306),d=i(13346),u=i(27860);let m=new Set(["aec1ddfad4a2b5a48e72f48613670a75da9abc2cd720ee9c5ffa610c5cadddda","4eb1bc24959e08fc75ec7b3a066a28434fcdbf813ad55f554e9ea5234987390b","d51f087977071dfe9f070bcdf5f28ccdb46881647c53492e53a2f75f7fe141f6","77e20f8e0f3c2255a76c0992f668283faa7eefe21550d585d5d1b30bb759cc8e","c68afd35a0ba430f203ae8a343bb3299c3950c97d78ae4c479567255b2fba071","795faaf289172ecc870020ce619d6cff570c4fc6aa2c02388f339147a6ff727f"]);function p(e){var t;let{hide:i,noContainer:d,source:u}=e,p=(0,a.Z)(),[g,x]=(0,o.useState)("idle"),[f,v]=(0,o.useState)(!1),b="open"===g,j=(0,c.ac)(1024),[y]=(0,l.Iw)("show-feedback-button",!0);return!y||!p||m.has(null!==(t=p.email_hash)&&void 0!==t?t:"")?null:(0,n.jsxs)("div",{style:{maxWidth:"idle"===g?d?96:112:"open"===g?300:d?104:120,maxHeight:b?f?226:206:d?26:j?36:32},className:"".concat(d?"rounded":"fixed bottom-[calc(env(safe-area-inset-bottom)+80px)] xs:bottom-5"," ").concat("w-96 h-96 z-20 bg-gray-90 text-gray-25 font-pg-medium  border border-gray-85 left-6 lg:left-auto rounded-[18px] lg:rounded-md"," ").concat(f?"":"transition-all duration-150"," ").concat(b?"rounded-md":"flex justify-center hover:bg-gray-85"," ").concat(i?"opacity-0 pointer-events-none":""),children:[!b&&(0,n.jsxs)("button",{type:"button",className:"flex justify-center items-center py-1 gap-1.5 ".concat(d?"text-xs":"text-sm"),onClick:()=>{"idle"===g&&x("open")},children:["idle"===g&&(0,n.jsx)(r,{}),"completed"===g&&(0,n.jsx)(s,{}),"idle"===g?"Feedback":"Thank you!"]}),b&&(0,n.jsx)("div",{className:"px-3 py-[14px] h-full",children:(0,n.jsx)(h,{defaultValues:{source:u},onCancel:()=>x("idle"),onSubmit:()=>{x("completed"),setTimeout(()=>{x("idle")},3e3)}})})]})}function h(e){let{onSubmit:t,onCancel:i,defaultValues:a}=e,[r,s]=(0,o.useState)(""),[l,c]=(0,o.useState)(!1),m=r.length<20,p=async()=>{s(""),await fetch("/api/feedback",{method:"POST",body:JSON.stringify({feedback:r,source:a.source})})};return(0,n.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),m){c("Please explain in more detail");return}return t({...a,feedback:r}),p()},className:"flex w-full h-full flex-col gap-2",children:[(0,n.jsx)("label",{htmlFor:"feedback",className:"text-sm",children:"What can we improve?"}),(0,n.jsx)(u.g,{name:"feedback",id:"feedback",placeholder:"If you could only choose one thing for us to improve, what would it be?",className:"resize-none h-24",autoFocus:!0,value:r,onKeyDown:e=>{if(e.stopPropagation(),"Enter"===e.key&&e.metaKey){var t;null===(t=document.getElementById("submit-feedback"))||void 0===t||t.click()}"Escape"===e.key&&(i(),s(""),c(!1))},onChange:e=>{e.target.value.length>20&&c(!1),s(e.target.value)}}),l&&(0,n.jsx)("p",{className:"text-pg-50 text-sm",children:l}),(0,n.jsx)("div",{className:"flex justify-end gap-2 mt-0.5",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.z,{type:"button",variant:"default",onClick:()=>{i(),s(""),c(!1)},children:"Cancel"}),(0,n.jsx)(d.z,{id:"submit-feedback",type:"submit",variant:"create",children:"Submit"})]})})]})}},38671:function(e,t,i){"use strict";i.r(t),i.d(t,{__N_SSP:function(){return e6},default:function(){return e8}});var n=i(85893),a=i(67294),o=i(9008),r=i.n(o),s=i(85604),l=i(2337),c=i(68431),d=i(627),u=i(66144),m=i(2267),p=i(93817),h=i(47435),g=i(94670),x=i(42897),f=i(31630),v=i(62363),b=i(22986),j=i(52118),y=i(50429),w=i(2641);function k(){return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12.5",height:"12.5",fill:"none",viewBox:"0 0 17 17",className:"mr-2",children:[(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M10.246 9.15v6.01a.84.84 0 01-.84.84H1.84A.84.84 0 011 15.16V7.594a.84.84 0 01.84-.84h6.328"}),(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M9.616 9.276a1.681 1.681 0 100-3.362 1.681 1.681 0 000 3.362zM5.413 6.753V3.18a.84.84 0 01.84-.84h6.328M14.66 4.738v6.008a.84.84 0 01-.841.84h-3.573"}),(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M14.029 4.862a1.681 1.681 0 100-3.362 1.681 1.681 0 000 3.362z"})]})}function C(){let e="clip0_5_6659"+(0,a.useId)();return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12.5",height:"12.5",fill:"none",viewBox:"0 0 16 17",className:"mr-2",children:[(0,n.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",clipPath:"url(#".concat(e,")"),children:[(0,n.jsx)("path",{d:"M7.08 12.42c1.06-1.267.067-2.892 1.01-3.987a1.84 1.84 0 112.785 2.4 4.334 4.334 0 01-3.794 1.587v0z"}),(0,n.jsx)("path",{d:"M11.067 8.696l4.154-5.502a1.358 1.358 0 10-2.303-1.426l-3.02 6.078M5.038 11.88c-3.533-.895-2.148-2.743-3.705-2.743-2.024 0-.058 4.645 3.262 6.37a4.972 4.972 0 005.592-.957l.054-.055"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:e,children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0H16V16H0z",transform:"translate(0 .5)"})})})]})}var N=i(38304),S=i(68364),I=i(94688),_=i(88246),P=i(73800),M=i(23878),O=i(8891),T=i.n(O),E=i(62080),L=i(41671),D=i(92323),A=i(51806);function U(e){let{image:t}=e;return(0,n.jsx)(A.Z,{image:t,apiPath:"remove-background",title:"Removing background...",eventName:"Remove background"})}var Z=i(47391),B=i(42427),z=i(24581),V=i(19311),F=i(89565),R=function(e){return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4.75 10.25v-4.5a1 1 0 011-1h3.5a1 1 0 011 1v4.5a1 1 0 01-1 1h-3.5a1 1 0 01-1-1zM4.75 18.25v-2.5a1 1 0 011-1h3.5a1 1 0 011 1v2.5a1 1 0 01-1 1h-3.5a1 1 0 01-1-1zM13.75 6.25v-.5a1 1 0 011-1h3.5a1 1 0 011 1v.5a1 1 0 01-1 1h-3.5a1 1 0 01-1-1zM13.75 18.25v-6.5a1 1 0 011-1h3.5a1 1 0 011 1v6.5a1 1 0 01-1 1h-3.5a1 1 0 01-1-1z"})})},H=i(63518),K=i(86010),G=i(5497),q=i.n(G),W=i(62469),J=i(97797),X=i(13891),Q=i(33299);function Y(e){return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4.75 8h2.5M12.75 8h6.5M4.75 16h7.5M17.75 16h1.5M10 10.25a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5zM15 18.25a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z"})})}var $=i(72438),ee=i(26516),et=i(59183),ei=i(58195),en=i(33951);function ea(e){let{img:t,handleClickSetInitImage:i,cancelOrDeleteImage:o,imageOptions:r,imageHistory:s,columns:l,generateVariants:c,restoreOptions:d,generateImage:u,isPrivate:m,setIsPrivate:p,isOpen:h,setIsOpen:j}=e,{submitToDailyTheme:O}=(0,ei.h)({imageId:t.id}),T=(0,E.WI)(u),A=(0,E.dQ)(u),G=function(e){let{setModalContent:t}=(0,D.d)();return(0,a.useCallback)(()=>{t((0,n.jsx)(U,{image:e}),{showCloseButton:!1,useBlurredBackground:!0})},[e,t])}(t),ea=(0,a.useCallback)(()=>{(0,H.K)("pai:create-preset-from-img-board",{img:t})},[t]),er=(0,f.T1)(),es=(0,E.Pf)(t),[el,ec]=a.useState(!1),ed=async()=>{if(el)return;let e=!m,i=new URL("/api/images/privacy",window.location.origin);i.searchParams.append("id",t.id),ec(!0),p(e);let n=await fetch(i.toString(),{method:"PATCH",body:JSON.stringify({private:e})});if(n.ok)er("Image privacy updated",{time:3e3}),ec(!1);else{var a;let{error:e}=null!==(a=await n.json())&&void 0!==a?a:{};console.error(e),p(m),er("Couldn't update privacy",{time:3e3})}},eu=()=>i(),em=(0,Z.z)(t.url),ep=e=>t=>{t.stopPropagation(),e(t)},eh=(0,a.useMemo)(()=>(0,M.c9)(r.filter),[r.filter]),ex=(0,a.useMemo)(()=>{for(let t=0;t<_.L5;t++){var e;let i=null===(e=r.controlNetOptions)||void 0===e?void 0:e[t];if((null==i?void 0:i.type)&&(null==i?void 0:i.base64Image))return!0}return!1},[r.controlNetOptions]),{usage:ef}=(0,et.vX)(),ev=(0,Q.useSession)(),eb=eg(l,!1,1.4),ej=(0,z.s)(),ey=(0,V.Z)(),ew=(0,E.iu)(t),ek=(0,a.useMemo)(()=>(null==s?void 0:s.filter(e=>{var t,i;return e.loading&&e.createdAt&&(null===(i=e.meta)||void 0===i?void 0:null===(t=i.options)||void 0===t?void 0:t.mode)===x.yB.GenUpscale}).length)||0,[s]),eC=!!eh||ex,{open:eN,set:eS}=(0,en.Nh)(e=>e);return(0,n.jsxs)(I.fC,{modal:!1,open:h,onOpenChange:j,children:[(0,n.jsxs)(I.xz,{className:(0,K.Z)("flex items-center font-pg-medium text-[14px] gap-2 bg-transparent blurry-button",eb?"px-3.5 pl-4.5":"circle"),"data-testid":"actions-btn",onClick:e=>{e.preventDefault(),e.stopPropagation()},style:{padding:l<6?void 0:"0px",aspectRatio:l<6?void 0:"1/1 !important"},children:[eb&&(0,n.jsx)("div",{className:"flex items-center",children:"Actions"}),(0,n.jsx)(v.Gq,{width:18,height:18})]}),(0,n.jsx)(I.VY,{asChild:!0,className:q().Content,align:"start",sideOffset:4,side:"bottom",children:(0,n.jsxs)(I.ZA,{children:[(0,n.jsxs)(eo,{img:t,mixpanelKey:"Submit to daily theme",onClick:e=>{if(e.stopPropagation(),t.id)return O()},children:[(0,n.jsx)(ee.f,{className:"h-5 w-5 -ml-1 mr-1"}),(0,n.jsx)($.p,{imageId:t.id})]}),(0,n.jsx)(I.Z0,{className:q().Separator}),!ej&&(0,n.jsxs)(eo,{img:t,mixpanelKey:"Edit in canvas",onClick:"function"==typeof em?ep(em):()=>null,children:[(0,n.jsx)(B.Z,{width:16,height:16,className:"mr-1.5 -ml-px"}),"Edit In Canvas"]}),(0,n.jsx)(g.u,{label:eh?"Inpainting is not available with SDXL filters":ex?"Inpainting is not available with control nets":void 0,placement:"right",className:"pai-canvas-tooltip arrow-bottom duration-75",isOpen:!!eC&&void 0,offset:[0,4],children:(0,n.jsx)("div",{className:"hover:cursor-default",children:(0,n.jsxs)(eo,{img:t,mixpanelKey:"Inpaint",disabled:eC,onClick:ep(()=>i(!0)),children:[(0,n.jsx)(C,{}),"Inpaint"]})})}),(0,F.Ek)(r.modelType)&&(0,n.jsxs)(eo,{img:t,mixpanelKey:"Image to Image",disabled:ex,onClick:ep(()=>{eN||eS(!0),eu()}),children:[(0,n.jsx)(k,{}),"Use in image to image"]}),d&&(0,n.jsxs)(eo,{img:t,mixpanelKey:"Use image settings",onClick:ep(()=>{eN||eS(!0),d()}),children:[(0,n.jsx)(Y,{height:12.5,width:12.5,className:"mr-2"}),"Use image settings"]}),(0,n.jsxs)(eo,{img:t,mixpanelKey:"Generate Variants",onClick:ep(c),children:[(0,n.jsxs)("span",{className:"mr-2",children:[(0,n.jsx)(b.Z,{width:12.5,height:12.5})," "]}),"Create Variants"]}),(0,n.jsxs)(eo,{img:t,mixpanelKey:"Turn into Preset",onClick:ep(ea),children:[(0,n.jsxs)("span",{className:"mr-2",children:[(0,n.jsx)(R,{width:12.5,height:12.5})," "]}),"Turn into Preset..."]}),(0,n.jsxs)(eo,{img:t,mixpanelKey:"Face Restoration",onClick:ep(es),children:[(0,n.jsx)(y.Z,{}),"Face restoration"]}),(0,n.jsxs)(I.Tr,{children:[(0,n.jsx)(g.u,{label:"Too large to upscale",placement:"right",className:"pai-canvas-tooltip arrow-bottom duration-75",isOpen:!!ew&&void 0,offset:[0,4],children:(0,n.jsx)("div",{className:"hover:cursor-default",children:(0,n.jsxs)(I.fF,{onClick:e=>e.stopPropagation(),className:q().Item,disabled:ew,children:[(0,n.jsx)(w.Z,{}),"Upscale by 4x",!ew&&(0,n.jsx)(J.gl,{className:"ml-0"}),(0,n.jsx)("div",{className:"flex flex-grow"}),!ew&&(0,n.jsx)(W.XCv,{})]})})}),(0,n.jsxs)(I.tu,{className:q().Content,sideOffset:4,children:[(0,n.jsx)(eo,{img:t,mixpanelKey:"Creative upscale",onClick:e=>{e.stopPropagation(),A(t)},disabled:ek>=1||ef.creativeUpscalesThisMonth>=(0,X._N)("creativeUpscalesPerMonthLimit",ev.data),children:"Creative"}),(0,n.jsx)(eo,{img:t,mixpanelKey:"Subtle upscale",onClick:e=>{e.stopPropagation(),T(t)},disabled:ef.upscalesThisMonth>=(0,X._N)("upscalesPerMonthLimit",ev.data),children:"Subtle"})]})]}),(0,n.jsxs)(eo,{img:t,mixpanelKey:"Remove background",onClick:ep(G),children:[(0,n.jsx)(L.Z,{width:15,height:15,className:"mr-1.5"}),"Remove background"]}),(0,n.jsx)(I.Z0,{className:q().Separator}),(0,n.jsxs)(eo,{img:t,mixpanelKey:"Change publicity",onClick:ep(ed),disabled:el||!ey&&!m,children:[m?(0,n.jsx)("span",{className:"mr-2",children:(0,n.jsx)(v.Sl,{width:14,height:14})}):(0,n.jsx)("span",{className:"mr-2",children:(0,n.jsx)(v.HE,{width:14,height:14})}),"Make ",m?"Public":"Private"]}),(0,n.jsxs)(eo,{img:t,mixpanelKey:"Download",onClick:ep(()=>(0,P.ZP)(t)),children:[(0,n.jsx)(N.j,{}),"Download"]}),(0,n.jsxs)(eo,{img:t,mixpanelKey:"Copy Link",onClick:ep(()=>{navigator.clipboard.writeText("https://playground.com/post/".concat(t.id)).then(()=>{er("Copied")})}),children:[(0,n.jsx)(S.l,{}),"Copy link"]}),(0,n.jsx)(I.Z0,{className:q().Separator}),(0,n.jsxs)(eo,{img:t,mixpanelKey:"Move to trash",danger:!0,onClick:ep(o),children:[(0,n.jsx)(v.Rj,{height:12.5,width:12.5,className:"mr-2"})," Delete"]})]})})]})}function eo(e){let{children:t,onClick:i,danger:a,disabled:o,mixpanelKey:r,img:s}=e;return(0,n.jsx)(I.ck,{"data-testid":r,onClick:e=>{T().track("Action on generated image",{action:r,isV2:!0,imageId:s.id,imageUrl:s.url,imageBatchId:s.batchId}),i(e)},className:(0,K.Z)(q().Item,o?"opacity-50 pointer-events-none":"",a?"focus:text-[#f16060]":"focus:text-white"),children:t})}var er=i(3435),es=i(16535),el=function(e){let{width:t=22,height:i=22,className:a=""}=e;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,fill:"none",viewBox:"0 0 22 22",className:a,children:(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.25",d:"M7.15 9.9L11 6.6l3.85 3.3M7.15 14.85l3.85-3.3 3.85 3.3"})})},ec=i(27042),ed=i(18794),eu=i(1233),em=a.memo(function(e){var t,i,o,r,s,l,y,w,k,C,N,S,I,_,P,M,O,T,L,D,A,U,Z,B,z,V,F,R,H,G,q,W,J,X;let{img:Y,firstPhotoRef:$,numImagesInBatch:ee,columns:et,index:ei,batchIndex:en,imageHistory:eo,setImageHistory:em,setImageModal:ep,restoreOptions:eh,setInitImage:eg,generateVariants:ex,generateImage:ef,modelType:ev,imageOptions:eb,quickOptionsVisible:ej,showUploadingMeta:ey}=e,{editToast:ew,toasts:ek,addToast:eC}=(0,f.vj)(),eN=(0,Q.useSession)(),[eS,eI]=(0,a.useState)(Y.private),e_=!eb,eP=(0,a.useCallback)(()=>{var e,t;let i=null===(e=Y.meta)||void 0===e?void 0:e.upscaledFromUrl;ep({url:null!==(t=Y.url)&&void 0!==t?t:Y.url_jpeg,compareToUrl:i})},[null===(t=Y.meta)||void 0===t?void 0:t.upscaledFromUrl,Y.url,Y.url_jpeg,ep]),eM=async e=>{if(e.stopPropagation(),eo&&em){if((0,j.K)("Cancel / Delete image —\xa0quick action",Y),Y.loading){if(Y.createdAt){var t;null===(t=Y.abortController)||void 0===t||t.abort(),(0,es.s)({statusUUID:Y.statusUUID,task:"generation on board"}),em(eo.filter(e=>e.imageKey!==Y.imageKey))}}else{em(eo.map(e=>e.id===Y.id?{...e,hide:!0}:e));let e=(e,t)=>{e.onClearTimeout&&clearTimeout(e.onClearTimeout),em(eo.map(e=>t.includes(e.id)?{...e,hide:!1}:e))},t=ek.find(e=>"delete-image"===e.id);if(t){let i=t.meta.count||1,n=[...ek.map(e=>e.meta.imageIds).flat(),Y.id];ew("delete-image",{title:"Removed ".concat(i+1," images"),onClear(){(0,u.xR)(n)},onPress:t=>e(t,n),meta:{imageIds:[...t.meta.imageIds||[],Y.id],count:i+1}})}else eC("Removed image",{onClear(){Y.id&&(0,u.ao)(Y.id)},onPress(t){Y.id&&e(t,[Y.id])},meta:{imageIds:[Y.id],count:1},icon:(0,n.jsx)(v.Rj,{}),id:"delete-image",button:"Undo"})}}},eO=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=await (0,h.d4)(Y.url);eg(await (0,h.YO)(t,1024,1024,!0).catch(e=>t),{inpaint:e,mode:x.yB.Image,preserveStartSchedule:!0,useCurrentImageDimensions:!0})},[eg,Y]),[eT,eE]=(0,a.useState)(!1),[eL,eD]=(0,a.useState)(!1),eA=(0,E.dQ)(ef),eU=(0,E.iu)(Y),eZ=(0,a.useMemo)(()=>(null==eo?void 0:eo.filter(e=>{var t,i;return e.loading&&e.createdAt&&(null===(i=e.meta)||void 0===i?void 0:null===(t=i.options)||void 0===t?void 0:t.mode)===x.yB.GenUpscale}).length)||0,[eo])>=1,eB=null!==(z=Y.width&&Y.height?Y.width/Y.height:Y.aspectRatio)&&void 0!==z?z:1,ez=(null===(o=Y.meta)||void 0===o?void 0:null===(i=o.options)||void 0===i?void 0:i.mode)===x.yB.GenUpscale,eV=Y.loading&&(ez||(null===(s=Y.meta)||void 0===s?void 0:null===(r=s.options)||void 0===r?void 0:r.mode)===x.yB.Upscale),eF=(ez||(null===(y=Y.meta)||void 0===y?void 0:null===(l=y.options)||void 0===l?void 0:l.mode)===x.yB.Upscale)&&(null===(w=Y.meta)||void 0===w?void 0:w.upscaledFromUrl)&&1===ee&&(1===et||0===et),eR=(0,ed.Bg)(),eH=eT||Y.loading||eL,eK=eF?(0,n.jsx)("div",{style:{width:"min(100%, ".concat(null!==(V=null===(k=Y.meta)||void 0===k?void 0:k.options.width)&&void 0!==V?V:1024,"px)"),height:"100%",aspectRatio:"".concat(null!==(F=Y.width)&&void 0!==F?F:1024," / ").concat(null!==(R=Y.height)&&void 0!==R?R:1024)},className:(0,eu.cn)("rounded-md object-contain image-comparison-wrapper absolute",eR&&"rounded-pg-base"),children:(0,n.jsx)(ec.U,{showLabels:!eH,right:null!==(H=Y.url)&&void 0!==H?H:Y.url_jpeg,left:null!==(G=null===(C=Y.meta)||void 0===C?void 0:C.upscaledFromUrl)&&void 0!==G?G:""})}):null;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{"data-testid":"create-image-card",className:(0,eu.cn)("relative select-none flex justify-center items-center object-contain mx-auto rounded-md lg:mb-0 mb-10",!Y.loading&&"image-card-grid",eV&&"overflow-hidden",eR&&"rounded-pg-base",Y.loading&&"bg-pg-700"),onMouseOver:()=>eE(!0),onMouseOut:()=>eE(!1),id:"image-".concat(Y.id),style:{maxWidth:null!==(q=null===(S=Y.meta)||void 0===S?void 0:null===(N=S.options)||void 0===N?void 0:N.width)&&void 0!==q?q:"100%"},...0===ei&&0===en?{ref:$}:{},children:[eK,(0,n.jsx)("img",{src:null!==(W=Y.url_jpeg)&&void 0!==W?W:Y.url,id:"image-el-".concat(Y.id),className:(0,K.Z)("rounded-md object-contain",eV&&"blur-md",eR&&"rounded-pg-base"),"data-index":ei,style:{maxWidth:(null===(_=Y.meta)||void 0===_?void 0:null===(I=_.options)||void 0===I?void 0:I.width)&&!ez?"min(".concat(null===(M=Y.meta)||void 0===M?void 0:null===(P=M.options)||void 0===P?void 0:P.width,"px, 100%)"):"100%",...Y.loading?{width:null===(T=Y.meta)||void 0===T?void 0:null===(O=T.options)||void 0===O?void 0:O.width,height:"min(".concat(null===(D=Y.meta)||void 0===D?void 0:null===(L=D.options)||void 0===L?void 0:L.height,", calc(100vh-80px))")}:{},aspectRatio:"".concat(Y.aspectRatio," / 1")},alt:"Generated image for prompt: ".concat(Y.prompt)}),eH&&(0,n.jsx)("div",{"aria-label":"Restore image options",onClick:e=>{var t;e.target instanceof SVGElement&&(null===(t=e.target)||void 0===t?void 0:t.parentElement)instanceof HTMLButtonElement&&e.target.parentElement.disabled||Y.loading||eP()},className:(0,eu.cn)("rounded-md absolute inset-0 flex flex-col items-center justify-center transition-opacity hover:cursor-pointer",et>1?"bg-black/60":"bg-gradient-to-t ".concat(eR?"from-pg-900/90":"from-black/90"," to-transparent"),Y.loading&&Y.createdAt?"".concat(eR?"bg-pg-700/60":"bg-black/60"):"opacity-0 hover:opacity-100",eR&&"rounded-pg-base"),children:(0,n.jsxs)("div",{className:"absolute inset-3 flex flex-col justify-between",id:"restore-options",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[Y.loading?(0,n.jsx)("div",{className:"scale-50 origin-top-left pt-4 pl-4",children:(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center text-2xl text-gray-400",style:{position:ej?void 0:"absolute"},children:[(ey||Y.createdAt)&&(0,n.jsx)(d.ZP,{small:!ey}),(0,n.jsx)("span",{className:(0,K.Z)("mt-0",eV&&"text-white text-opacity-100"),style:{fontVariantNumeric:"tabular-nums"},children:Y.createdAt&&ey?(0,n.jsx)(p.Z,{includeDecimal:!0,startTime:new Date(Y.createdAt).getTime()}):(0,n.jsx)("span",{className:"text-white text-2xl absolute left-0",style:{top:"100px"},children:ey&&"Uploading..."})})]})}):ej&&!e_&&(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(g.u,{label:"Create variations",color:"white",children:(0,n.jsx)("button",{type:"button","data-testid":"createVariations-button",className:"blurry-button circle",onClick:e=>{e.stopPropagation(),(0,j.K)("Generate Variants —\xa0quick action",Y),null==ex||ex()},children:(0,n.jsx)(b.Z,{})})}),(0,n.jsx)(er.o,{onClick:()=>{(0,j.K)("Download image —\xa0quick action",Y)},"data-testid":"download-button",url:null!==(J=Y.url)&&void 0!==J?J:Y.url_jpeg,prompt:Y.prompt,title:null!==(X=Y.title)&&void 0!==X?X:void 0,imageOwnerUserId:null===(A=eN.data)||void 0===A?void 0:A.user.id}),Y.url&&(0,n.jsx)(g.u,{label:eU?"Too large to upscale":eZ?"Upscale already in progress":"Creative upscale",color:"white",children:(0,n.jsx)("button",{type:"button","data-testid":"createVariations-button",className:"blurry-button circle",disabled:eU||eZ,onClick:async e=>{e.stopPropagation(),(0,j.K)("Creative upscale —\xa0quick action",Y),eA(Y)},children:(0,n.jsx)(el,{})})})]}),(!Y.loading||!Y.createdAt)&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{"data-testid":"actions-btn-wrapper",className:"transition-all flex items-center justify-center absolute right-0 top-0 gap-2",children:[Y.createdAt&&!e_&&ex&&(0,n.jsx)(ea,{isPrivate:null!=eS&&eS,setIsPrivate:eI,img:Y,columns:et,handleClickSetInitImage:eO,imageOptions:eb,imageHistory:eo,showExtraActions:!ej,cancelOrDeleteImage:eM,generateVariants:ex,generateImage:ef,restoreOptions:eh,isOpen:eL,setIsOpen:eD}),ej&&(0,n.jsx)("button",{type:"button","data-testid":"view-full-screen-button-quick-action",onClick:e=>{e.stopPropagation(),(0,j.y)("View full screen —\xa0quick action"),eP()},className:"blurry-button circle",children:(0,n.jsx)(c.Z,{width:16,height:16})})]})})]}),(0,n.jsx)("div",{className:"flex flex-grow"}),ej&&!!(null===(U=Y.ImageMetadata)||void 0===U?void 0:U.upscaler)&&(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"bg-gray-70 bg-opacity-75 font-pg-medium text-gray-10 text-[12px] py-1 px-3 rounded-full mb-2 inline-block",children:(null===(Z=Y.ImageMetadata)||void 0===Z?void 0:Z.upscaler)==="gen-upscaler"?(0,n.jsx)("span",{children:"Creative upscale"}):(null===(B=Y.ImageMetadata)||void 0===B?void 0:B.upscaler)==="esrgan-fast"?(0,n.jsx)("span",{children:"Subtle upscale"}):(0,n.jsx)("span",{children:"Upscaled"})})}),(0,n.jsx)("div",{className:"",children:(0,n.jsxs)("div",{className:"flex gap-1 ".concat(ej?"justify-between":"justify-end"," w-full"),children:[(0,n.jsx)("div",{className:"flex flex-col items-start w-full",children:ej&&(0,n.jsx)("p",{className:"transition-opacity text-opacity-90 flex-grow ".concat(et>0||(null!=ee?ee:1)>1?"hidden ".concat(eB>1.3?"!line-clamp-2":"!line-clamp-4 xl:!line-clamp-6"):"hidden md:block !line-clamp-6"),children:Y.isExpanding?(0,n.jsx)("span",{className:"text-gray-50",children:"Expanding prompt..."}):eV?(0,n.jsx)("span",{className:"text-gray-25",children:"Upscaling..."}):Y.prompt})}),(ej||et*Math.pow(eB,2)<8.5)&&!e_&&(0,n.jsx)(g.u,{label:Y.loading?Y.createdAt?"Cancel generation":"":"Delete image",placement:"top",color:"white",children:(0,n.jsxs)("button",{onClick:eM,className:"text-white self-end invisible md:visible hover:text-red-500 flex flex-none gap-x-2 transition-all blurry-button justify-center items-center ".concat(Y.loading&&!Y.createdAt?"opacity-50":""," ").concat(Y.loading?"px-3":"circle"),type:"button",id:"card-cancel-delete-button",children:[(0,n.jsx)(m.Z,{width:16,height:16})," ",Y.loading&&et<4&&"Cancel"]})})]})})]})}),!e_&&(0,n.jsxs)("button",{type:"button","data-testid":"card-cancel-delete-button-mobile",onClick:eM,title:Y.loading?"Cancel generation":"Delete image",className:"absolute -bottom-7 text-gray-300 hover:text-red-500 transition-colors flex gap-x-1.5 items-center text-[14px] md:hidden",children:[(0,n.jsx)(m.Z,{height:12})," ",Y.loading&&et<4?"Cancel":"Delete"]})]})})}),ep=i(69306),eh=a.memo(em);function eg(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return!(0,ep.ac)({2:1260,3:1420,4:1850,5:2285,6:2685,7:3100,8:3500}[0===e?Number(t)+1:e]*i)}var ex=i(35763),ef=i(17394);function ev(e){let{columns:t,imageHistory:i,imageOptions:o,setColumns:r,lastEditedImage:s,noImagesYet:l}=e,[c,d]=a.useState(!1),[u,m]=a.useState(!1),p=(0,ep.ac)(1023);return(0,n.jsxs)(n.Fragment,{children:[p&&(0,n.jsx)("div",{className:"flex justify-between content-center mb-5 pt-5 px-10",children:(0,n.jsx)("fieldset",{className:"create-fieldset !flex-row w-full",children:l?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{"aria-label":"Show grid",type:"radio",name:"view-setting",id:"grid",checked:t>0,onChange:()=>{r(2),T().track("Columns",{columns:2,source:"grid"})},disabled:0===i.length}),(0,n.jsx)("label",{htmlFor:"grid",className:"w-12 h-12",children:(0,n.jsx)("img",{src:"/vectors/grid.svg",alt:"Grid Icon"})}),(0,n.jsx)("input",{"aria-label":"Show stack",type:"radio",name:"view-setting",id:"stack",checked:0==t,onChange:()=>{r(0),T().track("Columns",{columns:0,source:"stack"})},disabled:0===i.length}),(0,n.jsx)("label",{htmlFor:"stack",className:"w-12 h-12",children:(0,n.jsx)("img",{src:"/vectors/stack.svg",alt:"Stack Icon"})})]})})}),p||(0,n.jsx)("div",{className:(0,eu.cn)("sticky m-0 px-0 py-5 flex items-center justify-center top-0 z-[5] border-b pl-4","bg-background border-border"),children:(0,n.jsx)("div",{className:"w-1/4 min-w-[250px] content-right ml-auto mr-10",children:(0,n.jsx)("fieldset",{className:"create-fieldset",children:(0,n.jsx)(ef.Z,{label:"Columns",labelClassName:"text-sm text-gray-400",min:0,max:8,step:1,onChange:e=>{r(e),m(!0)},onChangeEnd:()=>{m(!1),T().track("Columns",{columns:t,source:"slider"})},value:t,hideTextInput:!0,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:(0,n.jsx)(g.u,{hasArrow:!0,bg:"gray.800",color:"white",placement:"top",isOpen:c||u,label:"".concat(0==t?"Timeline":"".concat(t)),children:(0,n.jsx)(ex.gs,{})})})})})})]})}function eb(e){let{text:t}=e;return(0,n.jsx)("div",{className:"bg-gray-90 max-w-[645px] mx-auto my-4 text-center px-8 py-4 text-sm rounded-xl  text-gray-5",children:t})}var ej=i(45497),ey=i(11320),ew=i(44746);function ek(e){let{hide:t}=e;return(0,n.jsx)("div",{className:"fixed right-4 bottom-[calc(env(safe-area-inset-bottom)+80px)] xs:bottom-5 px-3 h-9 rounded-full transition-all duration-150 z-40 bg-gray-90 text-gray-25 font-pg-medium  border border-gray-85 flex justify-center hover:bg-gray-85 ".concat(t?"opacity-0 pointer-events-none":""),children:(0,n.jsxs)("button",{type:"button",className:"flex justify-center items-center py-1 gap-1.5 text-sm",onClick:e=>{let t=document.getElementById("prompt-textarea");t&&(setTimeout(()=>{var i,n;let a=null===(i=t.parentElement)||void 0===i?void 0:i.firstElementChild,o=e.target;for(;o;)if((null==(o=o.parentElement)?void 0:null===(n=o.parentElement)||void 0===n?void 0:n.id)==="__next"){o.scrollTo({behavior:"smooth",top:a.offsetTop-16});break}},50),t.scrollIntoView(),t.focus(),T().track("Clicked Edit Prompt to scroll back to top"))},children:[(0,n.jsx)(v.Gm,{width:18,height:18}),"Edit Prompt"]})})}var eC=i(5152),eN=i.n(eC);i(68450),i(13346),i(92890),i(38372);var eS=i(598);function eI(e){let{children:t}=e;return(0,eS.Z)()?t:null}var e_=i(20835),eP=i(68482);let eM=(0,i(45139).j)("relative flex",{variants:{size:{default:"h-10 text-sm font-pg-medium",sm:"h-5 text-sm font-pg-medium"}},defaultVariants:{size:"default"}}),eO=a.forwardRef((e,t)=>{let{className:i,label:a,LabelProps:o,valueLabel:r,ValueLabelProps:s,size:l="default",min:c,max:d,step:u=1,...m}=e;return(0,n.jsxs)("div",{className:"flex items-center w-full rounded-pg-sm overflow-hidden cursor-pointer",children:[a?(0,n.jsx)("span",{className:(0,eu.cn)("bg-pg-300 rounded-pg-sm rounded-r-none text-pg-900 flex items-center text-left px-1 translate-x-[1px] flex-nowrap whitespace-nowrap",eM({size:l}),null==o?void 0:o.className),onClick:()=>m.onValueChange&&"number"==typeof c&&m.onValueChange([c]),children:a}):null,(0,n.jsx)(eP.fC,{ref:t,className:(0,eu.cn)("relative flex w-full touch-none select-none items-center",i),min:c,max:d,step:u,...m,children:(0,n.jsx)(eP.fQ,{className:(0,eu.cn)("relative w-full grow overflow-hidden bg-pg-700 min-w-1",a?"rounded-l-none":"",eM({size:l})),children:(0,n.jsx)(eP.e6,{className:"absolute h-full bg-pg-300 rounded-pg-sm rounded-l-none"})})}),r||0===r?(0,n.jsx)("span",{...s,className:(0,eu.cn)("rounded-pg-sm rounded-l-none text-pg-100 flex items-center text-right px-2 bg-pg-700",eM({size:l}),null==s?void 0:s.className),onClick:()=>m.onValueChange&&"number"==typeof d&&m.onValueChange([d]),children:r}):null]})});eO.displayName=eP.fC.displayName;var eT=i(53468),eE=i(45789),eL=i.n(eE),eD=i(66483),eA=i(79207),eU=i(14490),eZ=i(84672),eB=i(32478);let ez="pai-hidden-tips",eV="pai-hide-tips-until",eF="pai-last-seen-daily-theme-id",eR="daily-theme";function eH(){return localStorage.getItem(eF)}function eK(e){return(null==e?void 0:e.includes(eR))?eR:e}function eG(e){let{imageOptions:t,updateImageOptions:i}=e,{activeTip:o,allowedTips:r,showHighResVideo:s,dontShowAgain:l,selectedTipIndex:c,setSelectedTipIndex:d,closeTips:u,updateDoNotShowAgainCheckmark:m,showTips:p,setDontShowAgain:g,isLoading:x}=function(){var e,t;let i=(0,eU.L)({onSuccess:e=>{let t={id:e.id,title:"Daily Theme: ".concat(e.title),image:e.imageUrl,boost_visibility:!0,imageOverlay:(0,n.jsx)("div",{className:"absolute top-2 right-2 z-10",children:(0,n.jsx)("img",{style:{width:186},alt:"How to submit daily theme explanation",src:"/daily-themes/how-to.png",className:"h-auto object-contain"})}),Body:()=>(0,n.jsx)(n.Fragment,{children:e.body}),showForDaysAfterSignup:1/0};eH()!==e.id&&v(e=>[t,...e])}}),o=i.isLoading,[r,s]=(0,a.useState)(0),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),m=(0,ed.z0)(),p=(0,eA.p)(),g=eH()===(null==i?void 0:null===(e=i.data)||void 0===e?void 0:e.id),x=(0,a.useCallback)(e=>{let t=!(e.featureFlag&&!m),i=!(e.showForDaysAfterSignup&&e.showForDaysAfterSignup<=p);return t&&i},[m,p]),[f,v]=(0,a.useState)(()=>eZ.m.filter(x));(0,a.useEffect)(()=>{let e=(()=>{let e=f.findIndex(e=>e.boost_visibility);if(-1!==e)return e;let t=localStorage.getItem("pai-default-tip-index");return t?parseInt(t):0})(),t=e;e>=f.length&&(t=0),s(t),localStorage.setItem("pai-default-tip-index",(t+1).toString())},[s,f]);let b=localStorage.getItem(eV),j=b&&g;(0,a.useEffect)(()=>{let e=localStorage.getItem(ez);if(j){if(new Date(b)>new Date){c(!1);return}localStorage.removeItem(eV)}if(e){let t=JSON.parse(e);v(eZ.m.filter(x).filter(e=>{let i=eK(e.id);return!t.includes(i)}))}c(!0)},[b,j,x]);let y=f[r];(0,a.useEffect)(()=>{f.forEach(e=>"image"in e&&(0,h.Wv)(e.image))},[f]);let w=(0,eD.s)();return(0,a.useEffect)(()=>{var e,t,n,a;r===f.findIndex(e=>{var t;return e.id===(null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.id)})&&(null==i?void 0:null===(e=i.data)||void 0===e?void 0:e.id)&&(null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.id)&&(a=null==i?void 0:null===(n=i.data)||void 0===n?void 0:n.id,localStorage.setItem(eF,a))},[f,null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.id,r]),{isLoading:o,activeTip:y,allowedTips:f,showHighResVideo:w,dontShowAgain:d,selectedTipIndex:r,setSelectedTipIndex:s,setShowTips:c,updateDoNotShowAgainCheckmark:e=>{let{id:t}=f[e],i=eK(t),n=localStorage.getItem(ez);n&&u(JSON.parse(n).includes(i))},showTips:l,setDontShowAgain:u,closeTips:()=>{localStorage.setItem(eV,new Date(new Date().getTime()+864e5).toString()),c(!1)}}}();if(!p||!r.length||!o||x)return null;let f="image"in o?(0,n.jsxs)("div",{className:"relative overflow-hidden rounded-lg",children:[(0,n.jsx)("img",{src:o.image,alt:o.title,className:"aspect-[1.42/1] rounded-lg bg-pg-600 w-[600px] object-cover relative"},o.image),o.imageOverlay]}):(0,n.jsx)("video",{className:(0,K.Z)("aspect-[1.42/1] rounded-lg bg-pg-600 w-[600px]","contain"===o.videoFit?"object-contain":"object-cover"),style:{backgroundColor:o.videoBackgroundColor},muted:!0,playsInline:!0,autoPlay:!0,loop:!0,children:(0,n.jsx)("source",{src:s?o.videoSrcSet.high:o.videoSrcSet.low,type:"video/mp4"})},o.videoSrcSet.high);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"absolute w-80 p-1 pb-3 flex flex-col z-10 bg-pg-600 text-pg-100 rounded-md gap-2 transition-transform origin-top-left",children:(0,n.jsxs)(n.Fragment,{children:[o.link?(0,n.jsx)("a",{target:"_blank",rel:"noreferrer",href:o.link,children:f}):f,(0,n.jsxs)("div",{className:"flex gap-2 items-center justify-center",children:[(0,n.jsxs)("button",{type:"button",className:"p-0.5 text-pg-50 pr-0",onClick:()=>{d(e=>{let t=e-1;return 0===e&&(t=r.length-1),m(t),t})},children:[(0,n.jsx)("span",{className:"sr-only",children:"Previous tip"}),(0,n.jsx)(v.s$,{})]}),r.map((e,t)=>(0,n.jsx)("div",{className:"w-1 h-1 rounded-full ".concat(t===c?"bg-gray-50":"bg-gray-10/10 ")},t)),(0,n.jsxs)("button",{type:"button",className:"p-0.5 text-pg-50 pl-0",onClick:()=>{d(e=>{let t=e+1;return e===r.length-1&&(t=0),m(t),t})},children:[(0,n.jsx)("span",{className:"sr-only",children:"Next tip"}),(0,n.jsx)(v._Q,{})]})]}),(0,n.jsx)("h4",{className:"font-pg-medium text-center text-sm text-pg-50 mx-auto pt-1",children:o.title}),(0,n.jsxs)("div",{className:"text-pg-100 max-w-[600px] ".concat(eL()["tip-body"]),children:[(0,n.jsx)("div",{className:"".concat(eL()["tip-body"]," ").concat(eL().small," mx-auto text-gray-50 pb-0.5"),children:(0,n.jsx)(o.Body,{imageOptions:t,updateImageOptions:i})}),(0,n.jsx)("div",{className:"w-full mt-6",children:(0,n.jsx)(eT.X,{isChecked:l,onChange:()=>{g(!l);let e=!l,t=localStorage.getItem(ez),i=t?JSON.parse(t):[],n=eK(null==o?void 0:o.id);if(e)localStorage.setItem(ez,JSON.stringify([...i,n]));else if(i&&t){let e=JSON.parse(t);localStorage.setItem(ez,JSON.stringify(e.filter(e=>e!==n)))}},fontSize:"sm",className:"outline-none",children:(0,n.jsx)("div",{className:"text-xs",children:"Do not show again"})})})]}),(0,n.jsxs)("button",{type:"button",className:"absolute top-2 right-2 rounded-full cursor-pointer z-10 pointer-events-auto bg-gray-10/10 p-0.5",onClick:u,children:[(0,n.jsx)("span",{className:"sr-only",children:"Don't show tips"}),(0,n.jsx)(eB.Z,{width:20,height:20})]})]})}),(0,n.jsxs)("div",{className:"pointer-events-auto hidden lg:flex gap-2 justify-center ".concat(r.length<=1?"hidden":""),children:[(0,n.jsxs)("button",{type:"button",className:eL()["directional-arrow"],onClick:()=>{d(e=>{let t=e-1;return 0===e&&(t=r.length-1),m(t),t})},children:[(0,n.jsx)("span",{className:"sr-only",children:"Previous tip"}),(0,n.jsx)(v.s$,{})]}),(0,n.jsxs)("button",{type:"button",className:eL()["directional-arrow"],onClick:()=>{d(e=>{let t=e+1;return e===r.length-1&&(t=0),m(t),t})},children:[(0,n.jsx)("span",{className:"sr-only",children:"Next tip"}),(0,n.jsx)(v._Q,{})]})]})]})}let eq=eN()(()=>i.e(8360).then(i.bind(i,68360)),{loadableGenerated:{webpack:()=>[68360]},ssr:!1});var eW=function(e){var t;let{imageHistory:i,setColumns:o,updateImageOptions:r,columns:s,baseImage:c,setImageHistory:d,batches:u,firstPhotoRef:m,editedImageRef:p,setImageModal:g,setInitImage:f,setImageOptions:v,setErrorMessage:b,setShowNegativePrompt:j,setUsesRandomSeed:y,generateImage:w,imageOptions:k}=e,[C,N]=(0,a.useState)(!1),[S,I]=(0,a.useState)(null),[P,O]=(0,a.useState)(),T=(0,a.useCallback)(e=>{w({variants:!0,override:{prompt:e}})},[w]);(0,a.useEffect)(()=>{C&&k.init_image!==S&&(T(P),N(!1),O(void 0),I(null))},[C,S,k.modelType,k.init_image,w,T,P]);let{setNegativePromptSetting:E,promptBoxRef:L}=(0,et.vX)(),D=(0,ep.ac)(1024),A=eg(s,!1),U=eg(s,!0),Z=eg(s,!1,.9),B=(0,a.useMemo)(()=>{for(let o=0;o<i.length;o++){var e,t,n,a;let r=(null===(t=i[o].meta)||void 0===t?void 0:null===(e=t.options)||void 0===e?void 0:e.mode)===x.yB.Instruct,s=(null===(a=i[o].meta)||void 0===a?void 0:null===(n=a.options)||void 0===n?void 0:n.init_image_id)===k.init_image_id,l=i[o].hide||i[o].loading;if(r&&s&&l)return i[o]}},[i,null==k?void 0:k.init_image_id]),z=(0,a.useRef)(null),V=(0,ey.Z)(z,{threshold:0}),F=(0,ew.sA)(),R=(0,ed.Bg)(),H=(0,ed.AP)();(0,en.Nh)(e=>e.open);let K=u.length>0,G=Math.max(D?Math.min(s,2):s,1);return(0,n.jsxs)("div",{ref:z,className:R?"relative h-full w-full":"relative w-full",id:"draggable-bounds",children:[(0,n.jsx)(e_.I,{children:(D||!R)&&(0,n.jsx)(ev,{imageHistory:i,imageOptions:k,setColumns:o,columns:s,baseImage:c,lastEditedImage:B,noImagesYet:0===u.length})}),(0,n.jsx)(e_.I,{children:R&&!D?(0,n.jsx)("div",{className:"p-4 bottom-0 z-30 fixed flex self-start transition-all duration-100",children:(0,n.jsx)(eJ,{})}):(0,n.jsx)(n.Fragment,{children:F&&(0,n.jsx)(ej.Z,{hide:D&&!(null==V?void 0:V.isIntersecting),source:"board"})})}),(0,n.jsx)(e_.I,{children:(0,n.jsx)(ek,{hide:!D||!(null==V?void 0:V.isIntersecting)})}),0===u.length&&!(k.init_image&&k.mode===x.yB.Instruct)&&(0,n.jsxs)("div",{className:(0,eu.cn)(R?"h-[calc(100vh_-_8rem)] pt-[10rem] pb-[10rem] absolute inset-0 flex flex-col items-center justify-center":"flex items-center justify-center pointer-events-none h-full flex-col p-4"),children:[e.warning&&(0,n.jsx)(eb,{text:e.warning}),!D&&(0,n.jsx)(e_.I,{children:H?(0,n.jsx)(eG,{imageOptions:k,updateImageOptions:r}):(0,n.jsx)(eq,{imageOptions:k,updateImageOptions:r})})]}),K&&(0,n.jsx)("div",{"data-testid":"create-grid-container",id:"scroll-container",className:(0,eu.cn)("p-10 pt-5 ".concat(k.mode===x.yB.Instruct?"pointer-events-none h-0 overflow-hidden opacity-0":""),R?"p-4":""),children:(0,n.jsx)(l.Z,{columnsCount:G,gutter:R?"4px":"16px",style:{paddingBottom:R?(0,M.HB)((null===(t=L.current)||void 0===t?void 0:t.style.height)||20,40):"auto"},children:u.map((e,t)=>{let a=Math.min(e.images.length,2),o=1===a?A:U;return(0,n.jsx)("div",{className:"grid gap-2",style:{gridTemplateColumns:"repeat(".concat(a,", minmax(0, 1fr))")},children:e.images.map((a,l)=>{var c;return(0,n.jsx)(eh,{img:a,index:l,batchIndex:t,modelType:"default"===k.modelType?void 0:k.modelType,firstPhotoRef:m,imageHistory:i,setImageHistory:d,columns:s,setImageModal:g,setInitImage:f,imageOptions:k,numImagesInBatch:e.images.length,quickOptionsVisible:o,showUploadingMeta:Z,generateImage:w,generateVariants:async()=>{var e;let t=await (0,h.d4)(null!==(e=a.url)&&void 0!==e?e:"");f(t,{inpaint:!1,preserveStartSchedule:!0,mode:x.yB.Image,useCurrentImageDimensions:!0}),S===t?T(a.prompt):(I(null==k?void 0:k.init_image),N(!0),O(a.prompt))},restoreOptions:()=>{var e;a.meta&&(v({...a.meta.options,mode:void 0,num_images:1,controlNetOptions:(null==k?void 0:k.controlNetOptions)||_.Gc}),a.meta.options.negativePrompt?E("custom"):E("none"),r("private")(a.meta.options.isPrivate),k.modelType!==a.source&&r("modelType")(a.source),b(""),r("filter")(a.meta.filterStyle.id),r("prompt")(a.meta.prompt),j(!!(null===(e=a.meta.negativePrompt)||void 0===e?void 0:e.length)),y(!1))}},null!==(c=a.imageKey)&&void 0!==c?c:a.id)})},e.id)})})}),(0,n.jsx)(eI,{children:(0,n.jsx)("div",{id:"skeleton-container",className:(0,eu.cn)("pt-5 p-4 grid gap-1 w-full place-items-center overflow-hidden h-[calc(100vh_-_4rem)]"),hidden:!R||K,style:{gridTemplateColumns:"repeat(".concat(G,", minmax(0, 1fr))")},children:Array((G+1)**2).fill(0).map((e,t)=>{var i,a,o;return!R||K?null:(0,n.jsx)("div",{className:"bg-pg-700/50 h-[360px] w-full rounded-pg-base flex items-center justify-center",style:{width:"min(100%, ".concat(null!==(i=k.width)&&void 0!==i?i:1024,"px)"),height:"100%",aspectRatio:"".concat(null!==(a=k.width)&&void 0!==a?a:1024," / ").concat(null!==(o=k.height)&&void 0!==o?o:1024)}},"placeholder-img-".concat(t))})})})]})};function eJ(){let{columns:e,setColumns:t}=(0,et.vX)();return(0,eS.Z)()?(0,n.jsx)("div",{className:(0,eu.cn)("w-[200px] h-[56px] hidden md:flex justify-center bg-pg-700 px-2 rounded-pg-base shadow-[inset_0_2px_2px_rgba(0,0,0,0.6)] shadow-pg-600","inline-flex items-center justify-center whitespace-nowrap rounded-pg-base text-sm font-medium transition-colors"),children:(0,n.jsx)(eO,{value:[e],onValueChange:e=>{let[i]=e;t(i),T().track("Columns",{columns:i,source:"slider"})},label:"Columns",valueLabel:e.toString(),max:8,step:1,min:0})}):null}var eX=i(33048),eQ=i(59420),eY=i(46302),e$=i(51879),e0=i(95995);function e1(){return{width:window.innerWidth,height:window.innerHeight}}var e2=i(87297),e4=i(10404),e5=i(9923),e3=i(47922),e6=!0;function e8(e){var t;let{isPro:i,baseImage:o}=e,l=(0,et.vX)();(0,a.useEffect)(()=>{e4.I.setState({baseImage:o})},[o]);let{batches:c,generateImage:d,setErrorMessage:u,setImageHistory:m,setInitImage:p,setShowNegativePrompt:h,setColumns:g,setUsesRandomSeed:x,updateImageOptions:f,imageHistory:v,imageOptions:b,columns:j,setImageOptions:y,imageModal:w,setImageModal:k,firstPhotoRef:C,editedImageRef:N,navigateToImage:S}=l,{data:I,isLoading:_}=(0,e0.l)(null!==(t=null==w?void 0:w.url)&&void 0!==t?t:""),P=function(){let[e,t]=(0,a.useState)(e1());return(0,a.useEffect)(()=>{let e=()=>{t(e1())};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),e}(),M=P.width/(P.height-58),O=(null==I?void 0:I.width)||1,T=(null==I?void 0:I.height)||1,E=O/T,L=(0,e3.y)("new-scrollbar"),D=(0,ed.nY)(),A=(0,ep.OV)("xs"),U=(0,ed.bZ)();(0,e5.O)();let Z=E>M;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r(),{children:[(0,n.jsx)("title",{children:"Create an Image - Playground"}),(0,n.jsx)("meta",{name:"description",content:"Generate an image with AI using Playground"})]}),(0,n.jsxs)("div",{className:(0,eu.cn)("h-full lg:text-normal top-[calc(51px+env(safe-area-inset-top))] bottom-[env(safe-area-inset-bottom)] left-0 right-0 !mt-0 !min-h-0 select-none overflow-y-auto overflow-x-hidden",L?"h-full":U?"md:h-[calc(100vh_-_4rem)] bg-background pg-scrollbar":"md:h-[calc(100vh_-_5rem)] bg-background pg-scrollbar",D&&A&&"pb-10"),children:[w&&I&&(0,n.jsx)("div",{className:"fixed inset-0 top-0 bottom-0 z-50 flex animate-fade-in duration-100 fade-in-5 bg-pg-900/50 backdrop-blur-xl",onClick:()=>k(null),children:(0,n.jsx)("div",{className:"flex w-full justify-center items-center p-12 relative",children:(0,n.jsxs)("div",{className:"relative h-fit w-fit top-9 md:top-0",children:[w.compareToUrl?(0,n.jsx)(n.Fragment,{children:_?null:(0,n.jsx)(ec.U,{style:{width:Z?P.width:(P.height-104)*E,height:Z?P.width/E:P.height-104,aspectRatio:O/T},left:w.compareToUrl,right:w.url})}):(0,n.jsx)("img",{src:w.url,alt:"",className:"object-contain h-auto w-auto max-h-[calc(100vh_-_6.5rem)]"}),(0,n.jsx)(e2.h,{onClick:e=>{e.stopPropagation(),S("Prev")},className:"fixed hidden lg:flex left-4 top-1/2 -translate-y-1/2",children:(0,n.jsx)(eX.Z,{})}),(0,n.jsx)(e2.h,{onClick:e=>{e.stopPropagation(),S("Next")},className:"fixed hidden lg:flex right-4 top-1/2 -translate-y-1/2",children:(0,n.jsx)(eQ.Z,{})}),(0,n.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),S("Prev")},className:"h-full w-[20%] absolute top-0 bottom-0 left-0 outline-none lg:hidden focus:touch-none"}),(0,n.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),S("Next")},className:"h-full w-[20%] absolute top-0 bottom-0 right-0 outline-none lg:hidden focus:touch-none"})]})})}),(0,n.jsx)(eW,{imageHistory:v,warning:function(e,t){var i,n,a;let o=null!==(n=null==e?void 0:e.sampler)&&void 0!==n&&n?eY.HH.fromSamplerId(null!==(a=null==e?void 0:e.sampler)&&void 0!==a?a:0):null,r=o&&o.proOnly&&!t;return(null==e?void 0:e.source)&&(null===(i=e$.NP[e.source])||void 0===i?void 0:i.deprecated)?"The inspiration image was generated using a deprecated model.":r?"The inspiration image was generated using a Pro scheduler and will not be exactly the same.":(null==e?void 0:e.start_schedule)?"The generated image might not be exactly the same as the inspiration image.":void 0}(o,i),setColumns:g,columns:j,baseImage:o,setImageHistory:m,batches:c,firstPhotoRef:C,editedImageRef:N,setImageModal:k,setInitImage:p,updateImageOptions:f,setImageOptions:y,setErrorMessage:u,setShowNegativePrompt:h,setUsesRandomSeed:x,generateImage:d,imageOptions:b})]}),(0,n.jsx)(s.F1,{})]})}},16535:function(e,t,i){"use strict";function n(e){let{statusUUID:t,task:i}=e;return fetch("/api/models/v2/metrics/cancel?statusUUID=".concat(null!=t?t:"none","&task=").concat(i))}i.d(t,{s:function(){return n}})},79207:function(e,t,i){"use strict";i.d(t,{p:function(){return a}});var n=i(38372);function a(){let e=(0,n.Z)();return e&&(null==e?void 0:e.createdAt)?function(e){let t=new Date;return t.setHours(0,0,0,0),Math.ceil(Math.abs(t.getTime()-e.getTime())/864e5)}(new Date(e.createdAt)):0}},66483:function(e,t,i){"use strict";i.d(t,{s:function(){return o}});var n=i(67294),a=i(69306);function o(){let e=!(0,a.ac)(768);return n.useMemo(()=>e||window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||window.devicePixelRatio&&window.devicePixelRatio>1.3,[e])}},94625:function(e){e.exports={Title:"DownloadMobileApp_Title__52xeP",Nav:"DownloadMobileApp_Nav__KErMZ"}},5497:function(e){e.exports={Item:"ActionsV2_Item__PYB81 DropdownMenu_Item__fDMDG",Content:"ActionsV2_Content__NaMdg DropdownMenu_Content__JbXpr",Separator:"ActionsV2_Separator__UDmvG"}},2337:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var n=i(67294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var r=function(e){function t(){return e.apply(this,arguments)||this}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e);var i=t.prototype;return i.getColumns=function(){var e=this.props,t=e.children,i=e.columnsCount,a=Array.from({length:i},function(){return[]});return n.Children.forEach(t,function(e,t){e&&n.isValidElement(e)&&a[t%i].push(e)}),a},i.renderColumns=function(){var e=this.props.gutter;return this.getColumns().map(function(t,i){return n.createElement("div",{key:i,style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:e}},t.map(function(e){return e}))})},i.render=function(){var e=this.props,t=e.gutter,i=e.className,o=e.style;return n.createElement("div",{style:a({display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:t},o),className:i},this.renderColumns())},t}(n.Component);r.propTypes={},r.defaultProps={columnsCount:3,gutter:"0",className:null,style:{}};var s="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,l=r}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=7532)}),_N_E=e.O()}]);